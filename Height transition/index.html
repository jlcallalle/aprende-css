<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Height transition</title>
	<style>
		
		.el {
		  transition: max-height 0.5s;
		  overflow: hidden;
		  max-height: 0;
		}

		.trigger:hover > .el {
		  max-height: var(--max-height);
		  /*max-height: 30px;*/
		  background-color: rgba(255,0,0,0.1);
		}


	</style>
</head>
<body>
	
	<div class="trigger">
	  Hover me to see a height transition.
	  <div class="el">content</div>
	</div>

	<script>
		var el = document.querySelector('.el')
		var height = el.scrollHeight
		el.style.setProperty('--max-height', height + 'px')
		console.log(el);
		console.log(height);

	</script>
</body>
</html>